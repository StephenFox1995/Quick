<!DOCTYPE html>
<html ng-app="businessProducts">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <% include /imports/angularJS %>
  <% include /imports/auth0-jwt %>
  <% include /imports/jQuery %>
  <% include /imports/bootstrap %>
  <% include /partials/businessNavBar %>

  <!--javascripts-->
  <script src="../javascripts/businessProducts.js"></script>
  <script src="../javascripts/ProductOption.js"></script>
  <script src="../javascripts/products.js"></script>
  <script src="../javascripts/dropper.js"></script>
  <script src="../javascripts/session.js"></script>
  <script src="../javascripts/alert.js"></script>
  <script src="../javascripts/validNumber.js"></script>

  <!--css-->
  <link href="../stylesheets/container.css" rel="stylesheet" type="text/css" />
  <link href="../stylesheets/products.css" rel="stylesheet" type="text/css" />
  <title>Add Product</title>
</head>

<body ng-controller="BusinessProductsCreationController">
  <div class="container">
    <div class="heading">Add New Product</div>
    <!--default add product inputs-->
    <form name="addProductForm" ng-submit="addProduct()">
      <fieldset>
        <div class="form-group">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <hr>
          </div>
        </div>
        <!--input fields-->
        <div class="form-group">
          <!--id-->
          <label for="inputID" class="col-sm-2 control-label">ID</label>
          <div class="col-sm-10">
            <input type="text" class="form-control bottom-space" id="inputID" placeholder="ID" ng-model="product.id">
          </div>
          <!--name-->
          <label for="inputName" class="col-sm-2 control-label">Name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control bottom-space" id="inputName" placeholder="Name" ng-model="product.name" required>
          </div>
          <!--description-->
          <label for="description" class="col-sm-2 control-label">Description</label>
          <div class="col-sm-10">
            <textarea class="form-control bottom-space" id="description" placeholder="Description" style="resize: vertical;" rows="3"
              ng-model="product.description" required>
            </textarea>
          </div>
          <!--price -->
          <label for="description" class="col-sm-2 control-label">Price</label>
          <div class="col-sm-10">
            <!--currency-->
            <div class="input-group" ng-model="Euro" input-dropper>
              <div class="input-group-btn">
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> {{value}} <span class="caret"></span></button>
                <ul class="dropdown-menu">
                  <li drop-item id="Euro €"><a href="">Euro € </a></li>
                  <li drop-item id="US Dollar $"><a href="">US Dollar $ </a></li>
                  <li drop-item id="British Sterling £"><a href="">British Sterling £</a></li>
                </ul>
              </div>
              <input type="number" step="0.01" class="form-control bottom-space" aria-label="..." ng-model="product.price" valid-number required />
            </div>
          </div>
        </div>

        <div class="form-group">
          <div class="col-lg-12 col-md-12 col-sm-12">
            <hr>
          </div>
        </div>
      </fieldset>


      <!--configure options fieldset-->
      <fieldset>
          <h5>Configure Product Options</h5>
          <div class="form-group row options-wrap">
          <!--add product options row-->
            <div class="row">
              <!--add product options input-->
              <div class="input-group col-lg-10 col-md-9 col-xs-8 pull-left">
                <span class="input-group-addon" id="sizing-addon2">Options</span>
                <input type="text" class="form-control" placeholder="e.g. Size, Color" aria-describedby="sizing-addon2" ng-model="newProductOptionName">
              </div>
              <!--add product options button -->
              <button class="btn btn-default pull-right"  type="button" ng-click="newProductOption(newProductOptionName)">Add Option</button>
            </div>
          </div>

          <!--all product options-->
          <div ng-repeat="productOption in productOptions track by $index">
            <!--individual product options-->
            <div class="row option-title">
              <h6>{{productOption.name}} options</h6>
              <ol ng-repeat="value in productOption.values track by $index">
              - {{value.name}}, {{value.priceDelta}}
              <button class="btn btn-default option-value-btn" ng-click="removeProductOptionValue(productOption, value.name)">x</button>
              </ol>  
            </div>
            
            <div class="form-group row">
              <div class="col-lg-6 col-md-5 col-xs-5">
                <div class="input-group ">
                  <span class="input-group-addon" id="sizing-addon3">Value</span>
                  <input type="text" class="form-control" placeholder="e.g. Blue" ng-model="valueName">
                </div>
              </div>
              <div class="col-lg-3 col-md-4 col-xs-4">
                <div class="input-group ">
                  <span class="input-group-addon" id="sizing-addon4" >Price Delta</span>
                  <input type="number" class="form-control" placeholder="e.g. + €5.00" ng-model="priceDelta">
                </div>
              </div>
              <!--add product option value button-->
              <button class="btn btn-default" type="button" ng-click="addProductOptionValue(productOption, valueName, priceDelta)">Add {{productOption.name}} Value</button>
              <button class="btn btn-danger" type="button" ng-click="removeProductOption(productOption)">Remove</button>
            </div>
          </div>


          <!-- add product button-->
          <div class="form-group">
            <div class="col-lg-12 col-md-12 col-xs-12">
              <div class="button-wrap">
                <button class="btn btn-primary" type="submit" ng-disabled="addProductForm.$invalid">Add Product</button>
              </div>
            </div>
          </div>
      </fieldset>
    </form>
    
    <!--alert-->
    <div>
      <alert ng-show="showAlert"></alert>
    </div>
    <div id="bottom"></div>
  </div>
</body>

</html>